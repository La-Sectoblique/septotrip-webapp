<!-- <ng-container *ngIf="(trip$ | async) as trip">
  <spt-trip-preview
    [trip]="trip.tripInstance"
  ></spt-trip-preview>

  <ng-container *ngIf="(steps$ | async) as steps; else stepsLoadingBlock">
    <ng-container *ngIf="(points$ | async) as points">
      <div class="trip-wrapper">
        <spt-steps-list class="steps-wrapper" [tripId]="trip.tripInstance.id" [steps]="steps"></spt-steps-list>
        <div class="map-wrapper">
          <spt-trips-map [steps]="steps" [points]="points" [tripId]="trip.tripInstance.id"></spt-trips-map>
        </div>
        <div class="points-wrapper">
          <spt-points-list
            [tripId]="trip.tripInstance.id"
            [points]="points"
          ></spt-points-list>
        </div>
      </div>
    </ng-container>
  </ng-container>

  <ng-template #stepsLoadingBlock>
    <spt-loader></spt-loader>
  </ng-template>
</ng-container> -->

<ng-container *ngIf="(trip$ | async) as trip">
  <div class="d-flex flex-column h-100 w-100" *ngIf="(points$ | async) as points" >
    <div class="d-flex h-100 w-100" *ngIf="(steps$ | async) as steps">
      <div class="d-flex flex-column h-100 left-bar align-items-center">
        <spt-trip-preview
        [trip]="trip.tripInstance"
        ></spt-trip-preview>
        <spt-steps-list class="steps-wrapper h-100 w-100" [tripId]="trip.tripInstance.id" [steps]="steps"></spt-steps-list>
      </div>
      <spt-trips-map class="map-wrapper" [steps]="steps" [points]="points" [tripId]="trip.tripInstance.id"></spt-trips-map>
    </div>
    <spt-points-list
      [tripId]="trip.tripInstance.id"
      [points]="points"
    ></spt-points-list>
  </div>
</ng-container>

<ng-template #map let-steps="steps" let-points="points" let-tripId="tripId">
  <spt-trips-map class="map-wrapper" [steps]="steps" [points]="points" [tripId]="tripId"></spt-trips-map>
</ng-template>