<ng-container *ngIf="points; else emptyBlock">
  <div class="d-flex flex-row w-100 h-100 align-items-center list-card">
    <div class="d-flex flex-column align-items-center mr-2">
      <h4 class="text-align-center m-0">Points d'intérêts</h4>
      <button nbButton
        *ngIf="(mapEditMode$ | async) as editMode"
        status="primary" 
        [outline]="editMode !== mapEditMode.EDIT_POINTS"
        [hero]="editMode === mapEditMode.EDIT_POINTS"
        (click)="switchPointEditMode(editMode)"
      >
        <nb-icon icon="edit-outline"></nb-icon>
        EDITION
      </button>
    </div>
    <div 
      cdkDropList 
      class="d-flex point-list-wrapper"
      [cdkDropListData]="points"
      [cdkDropListConnectedTo]="getLinkedDropListId()"
      cdkDropListOrientation="horizontal"
    >
      <ng-container *ngFor="let point of (points | filterPointsByPointIds:(mapDisplayedPointIds$ | async))">
        <div
          cdkDrag
          [cdkDragData]="point"
        >
          <spt-point-preview [point]="point">
            <div class="d-flex">
              <button nbButton ghost (click)="deletePoint(point.id)">
                <nb-icon class="cursor-pointer" icon="trash-2-outline" status="danger"></nb-icon>
              </button>
              <button nbButton ghost (click)="editPoint(point)">
                <nb-icon class="cursor-pointer" icon="edit-outline" status="primary"></nb-icon>
              </button>
            </div>
            <nb-icon cdkDragHandle handle icon="menu-outline" class="cursor-grab"></nb-icon>
          </spt-point-preview>
        </div>
      </ng-container>
    </div>
    <!--  -->
    
  </div>
</ng-container>

<ng-template #emptyBlock>
  <div class="d-flex flex-column align-items-center">
    <h5>Il n'y a aucun point d'intérêt</h5>
    <h6>Cliquez sur la carte pour commencer !</h6>
  </div>
</ng-template>